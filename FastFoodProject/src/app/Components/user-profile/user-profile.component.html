<div class="mar">
  <div class="dashboard-container">
    <header class="header">
      <button class="menu-button" (click)="toggleSidebar()">
        <i class="fas fa-bars"></i> <!-- Menu icon -->
      </button>
      <h1><img class="logo" src="/assets/images/logo.JPG"></h1>
      <div class="button-group">
        <button class="show-profile-button" (click)="showProfile()">
          <i class="fas fa-user"></i> <!-- Show Profile icon -->
        </button>
        <button class="view-cart-button" (click)="goToCart()">
          <i class="fas fa-shopping-cart"></i> <!-- View Cart icon -->
        </button>
        <button class="logout-button" (click)="logout()">
          <i class="fas fa-sign-out-alt"></i> <!-- Logout icon -->
        </button>
      </div>
    </header>

    <div class="main-content">
      <!-- Sidebar -->
      <div class="sidebar" [ngClass]="{'open': showMenu}">
        <nav class="nav-menu">
          <ul>
            <li>
              <a (click)="goToHome()">Home</a>
            </li>
            <li>
              <a (click)="goToOrders()">My Orders</a>
            </li>
          </ul>
        </nav>
      </div>

      <!-- Main Content -->
      <div class="user-profile-container">
        <div class="profile-box">
          <h2 class="dashboard-heading">User Profile</h2>

          <form *ngIf="!isEditing && userDetails">
            <div class="form-group">
              <label for="name">Name:</label>
              <input id="name" [value]="userDetails.name" readonly />
            </div>
            <div class="form-group">
              <label for="contactNo">Contact Number:</label>
              <input id="contactNo" [value]="userDetails.contactNo" readonly />
            </div>
            <div class="form-group">
              <label for="dob">Date of Birth:</label>
              <input id="dob" [value]="userDetails.dob | date:'yyyy-MM-dd'" readonly />
            </div>
            <div class="form-group">
              <label for="email">Email ID:</label>
              <input id="email" [value]="userDetails.email" readonly />
            </div>
            <div class="form-group">
              <label for="username">Username:</label>
              <input id="username" [value]="userDetails.username" readonly />
            </div>

            <button type="button" (click)="editProfile()">Edit</button>
            <button type="button" (click)="deleteProfile()">Delete</button>
          </form>

          <div *ngIf="isEditing" class="edit-form">
            <!-- Edit Form -->
            <form (ngSubmit)="updateProfile()">
              <div class="form-group">
                <label for="editName">Name:</label>
                <input id="editName" [(ngModel)]="userDetails.name" name="name" required />
              </div>
              <div class="form-group">
                <label for="editContactNo">Contact Number:</label>
                <input id="editContactNo" [(ngModel)]="userDetails.contactNo" name="contactNo" required />
              </div>
              <div class="form-group">
                <label for="editDob">Date of Birth:</label>
                <input id="editDob" [(ngModel)]="userDetails.dob" name="dob" type="date" required />
              </div>
              <div class="form-group">
                <label for="editEmail">Email ID:</label>
                <input id="editEmail" [(ngModel)]="userDetails.email" name="email" required />
              </div>
              <div class="form-group">
                <label for="editUsername">Username:</label>
                <input id="editUsername" [(ngModel)]="userDetails.username" name="username" required />
              </div>
              <button type="submit">Save</button>
              <button type="button" (click)="cancelEdit()">Cancel</button>
            </form>
          </div>
        </div>

        <button (click)="logout()" class="logout-button">Logout</button>
      </div>
    </div>
  </div>
</div>
